[TOC]



### scheduleAtFixedRate和scheduleWithFixedDelay有什么不同。



简单点理解

scheduleAtFixedRate就是在固定的时长内执行任务，

当任务开始后，会每隔一个period去扫描当前任务是否执行成功。

举个例子

你去银行办事，这个银行分配给每个人的办事时间是10分钟，假设从中午12点开始。

你在椅子上等，12：10分你去窗口看一下前面的人是不是执行完了。

如果

如果前面那个人事情提前办完了，没办法，你还是得等到12:10分才轮到你

如果前面那个人事情还没办完，没办法，你得等着，可能等到12:15分才轮到你。

那么下一次别人就会到12:25才会来窗口看你的事情是不是办完了。



scheduleWithFixedDelay

这个简单理解就是事情做完了还要等一定的时长。

就像需要准备工作。

比如你去游乐场做过山车，前面一轮的人坐完了，你不能上去，游乐场需要检查过山车是不是有问题，一些前期准备事情，需要等待。

完整的场景就是：坐过山车要等2分钟才能继续坐。



### 并发和并行的区别

单处理器是没有并行的、

并行是指同时执行多个操作，一个cpu不可能同时处理多个操作，只有多个cpu才能同时执行多个操作



单处理器和多处理器都有并发。

并发在一个cpu的时候，是间隔并行执行的。



### Raft算法

raft算法是在作者看了paxos算法之后，觉得p算法的理解难度太大，并且实际工程使用的指导性比较低的前提上

发明的另一种分布式一致性算法，在redis的集群等应用中都有广泛地使用。

其主要核心功能由一下几个部分组成

leader选举

日志复制

安全性





### 延迟消息队列



延迟2个小时付费



APM

### Gossip协议

形象化的理解就是流行病协议

这个协议的作用就像其名字表示的意思一样，非常容易理解，它的方式其实在我们日常生活中也很常见，比如电脑病毒的传播，森林大火，细胞扩散等等



区块链技术就是用的这个协议

对等的，没有中心组织

### 水平拆分和垂直拆分

1，水平拆分

水平拆分是指由于单一节点无法满足需求，需要扩展为多个节点，多个节点具有一致的功能，组成一个服务池，一个节点服务一部分请求量，所有节点共同处理大规模高并发的请求量。

简单地说水平拆分就是水平方向有多个相同的的服务

2，垂直拆分

垂直拆分指按照功能进行拆分，秉着“专业的人干专业的事”的原则，把一个复杂的功能拆分为多个单一、简单的功能，不同单一简单功能组合在一起，和未拆分前完成的功能是一样的。由于每个功能职责单一、简单，使得维护和变更都变得更简单、容易、安全，所以更易于产品版本的迭代，还能够快速的进行敏捷发布和上线。

简单地说垂直拆分就是把一个业务往垂直方向拆分层多个子业务组成的大业务。

![水平和垂直架构](img/split_arte.png)

### 同步阻塞

同步和非同步是针对被调用方而言

阻塞非阻塞是针对调用方而言

老王用水壶烧水。

老王——>调用方

水壶——>被调用方

同步阻塞：老王坐在那里啥都不干，等着水壶烧开

同步非阻塞：老王坐在那里啥都不干，等会水壶烧开响起铃声，通知老王去拿水。

异步阻塞：老王可以去做其他事情，等着水壶烧开

异步非阻塞：老王可以去做其他区事情，等会水壶烧开响起铃声，通知老王去
